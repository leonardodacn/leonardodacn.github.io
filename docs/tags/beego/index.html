<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>beego | haokiu</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://haokiu.com/tags/beego/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://haokiu.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://haokiu.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://haokiu.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://haokiu.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://haokiu.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://haokiu.com/tags/beego/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="beego" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://haokiu.com/tags/beego/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="beego"/>
<meta name="twitter:description" content=""/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://haokiu.com/" accesskey="h" title="haokiu (Alt + H)">haokiu</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://haokiu.com/" title="haokiu">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/1/" title="1s">
                    <span>后端</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/2/" title="2s">
                    <span>前端</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/3/" title="3s">
                    <span>区块链</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/4/" title="4s">
                    <span>大数据</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/5/" title="5s">
                    <span>linux</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/6/" title="6s">
                    <span>其他</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/tags/" title="Tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://haokiu.com/categories/" title="Categories">
                    <span>categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://haokiu.com/">Home</a>&nbsp;»&nbsp;<a href="https://haokiu.com/tags/">Tags</a></div>
  <h1>
    beego
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>beego restful path variable
    </h2>
  </header>
  <div class="entry-content">
    <p>beego的url路径有多个变量的设置和获取方法。
在 router.go 注册 url beego.Router(&#34;/type/:type/?:page&#34;, &amp;controllers.WebController{}, &#34;get:Type&#34;) 获取变量 typeID, err := self.GetInt(&#34;:type&#34;) func (c *Controller) GetInt(key string, def ...int) (int, error) { strv := c.Ctx.Input.Query(key) if len(strv) == 0 &amp;&amp; len(def) &gt; 0 { return def[0], nil } return strconv.Atoi(strv) } </p>
  </div>
  <footer class="entry-footer"><span title='2021-01-22 14:52:21 +0000 UTC'>January 22, 2021</span></footer>
  <a class="entry-link" aria-label="post link to beego restful path variable" href="https://haokiu.com/blog/RNbgLz/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>curl https 地址报异常
    </h2>
  </header>
  <div class="entry-content">
    <p>用 acme.sh 生产了 Let’s Encrypt 的https 证书，在浏览器访问没有问题，但在服务器访问出现下面的异常：
curl: (60) SSL certificate problem: unable to get local issuer certificate More details here: https://curl.haxx.se/docs/sslcerts.html curl failed to verify the legitimacy of the server and therefore could not establish a secure connection to it. To learn more about this situation and how to fix it, please visit the web page mentioned above. 网站用了beego，用 acme.sh 生成的证书。配置：
EnableHTTPS = true HTTPSPort = 443 HTTPSCertFile = &#34;/home/blog/cert/cert.pem&#34; HTTPSKeyFile = &#34;/home/blog/cert/key.pem&#34; 要将 cert.pem 替换为：fullchain.pem
EnableHTTPS = true HTTPSPort = 443 HTTPSCertFile = &#34;/home/blog/cert/fullchain.pem&#34; HTTPSKeyFile = &#34;/home/blog/cert/key.pem&#34; </p>
  </div>
  <footer class="entry-footer"><span title='2020-10-23 15:03:17 +0000 UTC'>October 23, 2020</span></footer>
  <a class="entry-link" aria-label="post link to curl https 地址报异常" href="https://haokiu.com/blog/KsbUyb/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>beego 让http请求跳转到 https
    </h2>
  </header>
  <div class="entry-content">
    <p>如果beego配置了https，那么可以让 让http请求跳转到 https，怎样配置 beego 的https，可以参考beego 通过acms.sh 使用 https
//siteUrl 是网站地址，比如:https://haokiu.com if &#34;HTTP/1.1&#34; == self.Ctx.Request.Proto &amp;&amp; siteUrl != &#34;&#34; &amp;&amp; strings.HasPrefix(siteUrl, &#34;https&#34;) { //如果支持https，则所有http请求跳转到https self.redirect(siteUrl &#43; self.Ctx.Request.URL.Path) } </p>
  </div>
  <footer class="entry-footer"><span title='2020-10-13 16:33:55 +0000 UTC'>October 13, 2020</span></footer>
  <a class="entry-link" aria-label="post link to beego 让http请求跳转到 https" href="https://haokiu.com/blog/ZSf4yF/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>beego bee 工具使用简介
    </h2>
  </header>
  <div class="entry-content">
    <p>bee 工具是一个为了协助快速开发 beego 项目而创建的项目，通过 bee 您可以很容易的进行 beego 项目的创建、热编译、开发、测试、和部署。
bee 工具的安装 您可以通过如下的方式安装 bee 工具：
go get github.com/beego/bee 安装完之后，bee 可执行文件默认存放在 $GOPATH/bin 里面，所以您需要把 $GOPATH/bin 添加到您的环境变量中，才可以进行下一步。
如何添加环境变量，请自行搜索 如果你本机设置了 GOBIN，那么上面的命令就会安装到 GOBIN 下，请添加 GOBIN 到你的环境变量中
bee 工具命令详解 我们在命令行输入 bee，可以看到如下的信息：
Bee is a Fast and Flexible tool for managing your Beego Web Application. Usage: bee command [arguments] The commands are: version show the bee &amp; beego version migrate run database migrations api create an api application base on beego framework bale packs non-Go files to Go source files new create an application base on beego framework run run the app which can hot compile pack compress an beego project fix Fixes your application by making it compatible with newer versions of Beego dlv Start a debugging session using Delve dockerize Generates a Dockerfile for your Beego application generate Source code generator hprose Creates an RPC application based on Hprose and Beego frameworks pack Compresses a Beego application into a single file rs Run customized scripts run Run the application by starting a local development server server serving static content over HTTP on port Use bee help [command] for more information about a command....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-16 16:06:47 +0000 UTC'>September 16, 2020</span></footer>
  <a class="entry-link" aria-label="post link to beego bee 工具使用简介" href="https://haokiu.com/blog/xVaucl/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>beego 日志配置
    </h2>
  </header>
  <div class="entry-content">
    <p>beego logs 的设计思路来自于 database/sql，目前支持的引擎有 file、console、net、smtp，可以通过如下方式进行安装：
go get github.com/astaxie/beego/logs 如何使用 通用方式 首先引入包：
import ( &#34;github.com/astaxie/beego/logs&#34; ) 然后添加输出引擎（log 支持同时输出到多个引擎），这里我们以 console 为例，第一个参数是引擎名（包括：console、file、conn、smtp、es、multifile）
logs.SetLogger(&#34;console&#34;) 添加输出引擎也支持第二个参数,用来表示配置信息，详细的配置请看下面介绍：
logs.SetLogger(logs.AdapterFile,`{&#34;filename&#34;:&#34;project.log&#34;,&#34;level&#34;:7,&#34;maxlines&#34;:0,&#34;maxsize&#34;:0,&#34;daily&#34;:true,&#34;maxdays&#34;:10,&#34;color&#34;:true}`) 然后我们就可以在我们的逻辑中开始任意的使用了：
package main import ( &#34;github.com/astaxie/beego/logs&#34; ) func main() { //an official log.Logger l := logs.GetLogger() l.Println(&#34;this is a message of http&#34;) //an official log.Logger with prefix ORM logs.GetLogger(&#34;ORM&#34;).Println(&#34;this is a message of orm&#34;) logs.Debug(&#34;my book is bought in the year of &#34;, 2016) logs.Info(&#34;this %s cat is %v years old&#34;, &#34;yellow&#34;, 3) logs.Warn(&#34;json is a type of kv like&#34;, map[string]int{&#34;key&#34;: 2016}) logs.Error(1024, &#34;is a very&#34;, &#34;good game&#34;) logs.Critical(&#34;oh,crash&#34;) } 多个实例 一般推荐使用通用方式进行日志，但依然支持单独声明来使用独立的日志
package main import ( &#34;github.com/astaxie/beego/logs&#34; ) func main() { log := logs....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-16 16:03:29 +0000 UTC'>September 16, 2020</span></footer>
  <a class="entry-link" aria-label="post link to beego 日志配置" href="https://haokiu.com/blog/gq7FUH/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>beego 日志处理
    </h2>
  </header>
  <div class="entry-content">
    <p>beego 的日志处理是基于 logs 模块搭建的，内置了一个变量 BeeLogger，默认已经是 logs.BeeLogger 类型，初始化了 console，也就是默认输出到 console。
使用入门 一般在程序中我们使用如下的方式进行输出：
beego.Emergency(&#34;this is emergency&#34;) beego.Alert(&#34;this is alert&#34;) beego.Critical(&#34;this is critical&#34;) beego.Error(&#34;this is error&#34;) beego.Warning(&#34;this is warning&#34;) beego.Notice(&#34;this is notice&#34;) beego.Informational(&#34;this is informational&#34;) beego.Debug(&#34;this is debug&#34;) 设置输出 我们的程序往往期望把信息输出到 log 中，现在设置输出到文件很方便，如下所示：
beego.SetLogger(&#34;file&#34;, `{&#34;filename&#34;:&#34;logs/test.log&#34;}`) 更多详细的日志配置请查看 beego 日志配置
这个默认情况就会同时输出到两个地方，一个 console，一个 file，如果只想输出到文件，就需要调用删除操作：
beego.BeeLogger.DelLogger(&#34;console&#34;) 设置级别 日志的级别如上所示的代码这样分为八个级别：
LevelEmergency LevelAlert LevelCritical LevelError LevelWarning LevelNotice LevelInformational LevelDebug 级别依次降低，默认全部打印，但是一般我们在部署环境，可以通过设置级别设置日志级别：
beego.SetLevel(beego.LevelInformational) 输出文件名和行号 日志默认不输出调用的文件名和文件行号,如果你期望输出调用的文件名和文件行号,可以如下设置
beego.SetLogFuncCall(true) 开启传入参数 true, 关闭传入参数 false, 默认是关闭的.
完整示例 func internalCalculationFunc(x, y int) (result int, err error) { beego.Debug(&#34;calculating z. x:&#34;, x, &#34; y:&#34;, y) z := y switch { case x == 3: beego.Debug(&#34;x == 3&#34;) panic(&#34;Failure.&#34;) case y == 1: beego....</p>
  </div>
  <footer class="entry-footer"><span title='2020-09-16 10:17:20 +0000 UTC'>September 16, 2020</span></footer>
  <a class="entry-link" aria-label="post link to beego 日志处理" href="https://haokiu.com/blog/YAotkP/"></a>
</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
